<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Gráficos de barras con geom_bar</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="tutorial.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Visualización de Datos-2022</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Módulos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="G1-ggplot2.html">Qué es la visualización de datos y ejemplos historicos</a>
    </li>
    <li>
      <a href="G2-Errores-tipicos-en-la-visualizacion.html">Errores típicos en la visualización</a>
    </li>
    <li>
      <a href="G3-Graficos-por-conteos.html">Gráficos para conteos</a>
    </li>
    <li>
      <a href="G4-Grafico-de-puntos-de-Wilkinson.html">Gráficos de puntos de Wilkinson</a>
    </li>
    <li>
      <a href="G5_geom_area_densidad_freqpoly.html">Gráficos de area y densidad</a>
    </li>
    <li>
      <a href="G6_geom_histogram.html">Histogramas</a>
    </li>
    <li>
      <a href="G7_geom_bar.html">Gráficos de barras</a>
    </li>
    <li>
      <a href="G8_geom_boxplot_geom_violin.html">Gráficos de caja y de violín</a>
    </li>
    <li>
      <a href="G9_Facet_Grid.html">Facet Grid</a>
    </li>
    <li>
      <a href="G10_Facet_wrap.html">Facet Wrap</a>
    </li>
    <li>
      <a href="G11_EVALUANDO_SUPUESTOS.html">Evaluando Supuestos</a>
    </li>
    <li>
      <a href="G12_Mapas_Calor.html">Mapas de Calor</a>
    </li>
    <li>
      <a href="G13_geom_line.html">Gráficos con lineas</a>
    </li>
    <li>
      <a href="G14_geom_point_geom_jitter.html">Geom_point y geom_jitter</a>
    </li>
    <li>
      <a href="G15_gganimate.html">Gráficos animados en movimiento</a>
    </li>
    <li>
      <a href="G16_Tablas_Tablas_Tablas.html">Tablas y Tablas</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Instalación básica
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Instalar-R-RStudio.html">Lo básico de RStudio</a>
    </li>
    <li>
      <a href="Introduccion-RMarkdown.html">Lo básico de RMarkdown</a>
    </li>
    <li>
      <a href="Codigos_basicos_en_R.html">R y Cheatsheets</a>
    </li>
    <li>
      <a href="R_basico.html">R Básico #2</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tareas y Ejercicios
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Ejerc_1.html">Ejercicio Básico</a>
    </li>
    <li>
      <a href="Ejerc_2_geom_point.html">Ejercicio geom_point</a>
    </li>
    <li>
      <a href="Ejerc_3_Wilkinson.html">Ejercicio Wilkinson</a>
    </li>
    <li>
      <a href="Ejerc_4_point_count.html">Ejercicio de gráficos de puntos, conteos y histograma</a>
    </li>
    <li>
      <a href="Ejerc_5_geom_line.html">Ejercicio de gráficos de lineas</a>
    </li>
    <li>
      <a href="Ejerc_6_Covid_19.html">Ejercicio Final COVID19</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Los Datos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Archivos_de_Datos.html">Archivos de Datos</a>
    </li>
    <li>
      <a href="COVID-19.html">COVID-19</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Calendario
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="schedule.html">Calendario</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Gráficos de barras con <strong>geom_bar</strong></h1>

</div>


<p>Fecha de la ultima revisión</p>
<pre><code>## [1] &quot;2022-03-07&quot;</code></pre>
<p><img src="Graficos/hex_ggversa.png" width="20%" /><img src="Graficos/hex_Visualizacion_Datos.png" width="20%" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::install_github(&quot;EvaMaeRey/flipbookr&quot;)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flipbookr) </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.8
## ✓ tidyr   1.2.0     ✓ stringr 1.4.0
## ✓ readr   2.1.2     ✓ forcats 0.5.1</code></pre>
<pre><code>## Warning: package &#39;tidyr&#39; was built under R version 4.1.2</code></pre>
<pre><code>## Warning: package &#39;readr&#39; was built under R version 4.1.2</code></pre>
<pre><code>## Warning: package &#39;dplyr&#39; was built under R version 4.1.2</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggversa)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;janitor&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     chisq.test, fisher.test</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra) <span class="co"># paquete para organizar los gráficos</span></span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>DW<span class="ot">=</span>dipodium</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>DW<span class="ot">=</span><span class="fu">clean_names</span>(DW)</span></code></pre></div>
<hr />
<div id="una-variable-discreta-gráfico-de-barras-con-geom_bar" class="section level1">
<h1>Una variable discreta: Gráfico de barras con <strong>geom_bar</strong></h1>
<p>El gráfico de barras es una representación de la frecuencia de ocurrencia de eventos para valores discretos; por ejemplo, sí o no, o valores categóricos. La función <strong>geom_bar</strong> genera un gráfico que tabula la cantidad de veces que ocurre un evento. La altura de las barras representa el número de observaciones de una categoría discreta representada en el eje de <strong>X</strong>.</p>
<p>En el siguiente ejemplo, primero removeremos los <strong>NA</strong> del archivo usando <strong>drop_na()</strong>, es el función que excluye todas las filas que contienen los <strong>NA</strong>. Nuevamente utilizaremos el archivo de datos de la <em>Dipodium rosea</em>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DW$Number_of_Flowers  # Antes de hacer los análisis mira los datos, y vea que hay muchas filas con **NA**, remueve **#** para activar la función. </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 1</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DW)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 21
##   tree_number tree_species   dbh plant_number ramet_number distance orientation
##         &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;        &lt;int&gt;        &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt;
## 1           1 E.o             75            1            1     2.47          40
## 2           1 E.o             76            2            1     1.97          50
## 3           2 E.o             76            3            1     1.95         350
## 4           3 E.o             58            4            1     3.24         210
## 5           4 E.o             NA            5            1     0.85          80
## 6           5 E.o             59            6            1     2.62         160
## # … with 14 more variables: number_of_flowers &lt;int&gt;, height_inflo &lt;int&gt;,
## #   herbivory &lt;chr&gt;, row_position_nf &lt;int&gt;, number_flowers_position &lt;int&gt;,
## #   number_of_fruits &lt;int&gt;, perc_fr_set &lt;dbl&gt;, pardalinum_or_roseum &lt;chr&gt;,
## #   fruit_position_effect &lt;int&gt;, frutos_si_o_no &lt;int&gt;,
## #   p_or_r_infl_lenght &lt;chr&gt;, num_of_fruits &lt;int&gt;, species_name &lt;chr&gt;,
## #   cardinal_orientation &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>DW <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(number_of_flowers)<span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(number_of_flowers))<span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;red&quot;</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Cantidad de Flores&quot;</span>)<span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/dipodiumbarrafb-1.png" width="672" /></p>
<hr />
<div id="flipbook-geom_bar" class="section level2">
<h2>flipbook geom_bar</h2>
<iframe src="embedded_flipbooks/dipodiumbarrafb_embed.html" width="672" height="325" data-external="1">
</iframe>
</div>
</div>
<div id="cambio-de-intensidad-de-color-con-alpha" class="section level1">
<h1>Cambio de intensidad de color con <strong>alpha</strong></h1>
<p>Se puede cambiar la intensidad del color de las barras usando <strong>alpha</strong>. los valores pueden variar de 0 a 1, donde 1 es mas intenso el color, aquí se utiliza un <strong>alpha=0.3</strong>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(DW)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 21
##   tree_number tree_species   dbh plant_number ramet_number distance orientation
##         &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;        &lt;int&gt;        &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt;
## 1           1 E.o             75            1            1     2.47          40
## 2           1 E.o             76            2            1     1.97          50
## 3           2 E.o             76            3            1     1.95         350
## 4           3 E.o             58            4            1     3.24         210
## 5           4 E.o             NA            5            1     0.85          80
## 6           5 E.o             59            6            1     2.62         160
## # … with 14 more variables: number_of_flowers &lt;int&gt;, height_inflo &lt;int&gt;,
## #   herbivory &lt;chr&gt;, row_position_nf &lt;int&gt;, number_flowers_position &lt;int&gt;,
## #   number_of_fruits &lt;int&gt;, perc_fr_set &lt;dbl&gt;, pardalinum_or_roseum &lt;chr&gt;,
## #   fruit_position_effect &lt;int&gt;, frutos_si_o_no &lt;int&gt;,
## #   p_or_r_infl_lenght &lt;chr&gt;, num_of_fruits &lt;int&gt;, species_name &lt;chr&gt;,
## #   cardinal_orientation &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># [df(fila,columas)]</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="fu">ggplot</span>(DW[<span class="sc">!</span><span class="fu">is.na</span>(DW<span class="sc">$</span>number_of_flowers),],</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">aes</span>(number_of_flowers))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>b<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">alpha=</span>.<span class="dv">3</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill=</span><span class="st">&quot;blue&quot;</span>,<span class="at">color=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las </span><span class="sc">\n</span><span class="st"> flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra1-1.png" width="672" /></p>
<hr />
<div class="figure">
<img src="Graficos/L_eltoroensis.jpeg" alt="Figura: Lepanthes eltoroensis, EL Yunque, Puerto Rico" width="315" style="float:right; padding:10px" />
<p class="caption">
Figura: Lepanthes eltoroensis, EL Yunque, Puerto Rico
</p>
</div>
<ol style="list-style-type: decimal">
<li>Seleccione el archivo “Lelto” en el paquete “ggversa”. Seleccione la variable adultos o juvenil, que representa la cantidad de plantas adulto o juvenil que se encuentra en el árbol. Los datos son de una pequeñita orquídea que esta limitado las veredas del “El Toro” y de los “Vientos Alizios” en el Yunque.
<ul>
<li>Mire el nombre de las columnas primero</li>
<li>Cambie de color las barras</li>
<li>Cambie el nombre de los nombres de los ejes</li>
<li>Salva el gráfico con extensión de .png</li>
<li>Sube el gráfico a MSTeam</li>
</ul></li>
</ol>
<hr />
</div>
<div id="multiples-grupos" class="section level1">
<h1>Multiples grupos</h1>
<p>Ahora le añadiremos una variable discreta que representa las frecuencias de las plantas con frutos y la frecuencia de plantas sin frutos para las posiciones de la flor en la inflorescencia. En el <strong>script</strong> se observa que la variable <strong>Frutos_si_o_no</strong> se identifica como un factor. Esto es necesario porque en el archivo de datos la presencia de frutos y flores fue identificada como 1 o 0 o sea valores numéricos. Si se hubiera identificado como <strong>Sí</strong> o <strong>No</strong>, no habría la necesidad de identificar que es un factor. En tal caso, es necesario identificar que estos valores son una categoría usando factor. El gráfico presenta las variables discretas una sobre la otra. Note en la Figura al igual que con <strong>geom_histogram</strong>, la frecuencia del segundo grupo es añadida a la frecuencia del primer grupo.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fruit_position_effect,frutos_si_o_no )<span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(fruit_position_effect)<span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(fruit_position_effect))<span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="fu">factor</span>(frutos_si_o_no)))<span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las </span><span class="sc">\n</span><span class="st"> flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))<span class="sc">+</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;#36211D&quot;</span>))<span class="sc">+</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;blue&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra2-1.png" width="672" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Lelto)</span></code></pre></div>
<pre><code>##   Tree Trail Distance Alt_m Angulo Rango_rad Localizacion Inclinacion  DBH
## 1  203    Tw        0   780    260  4.535556          230          50 18.1
## 2  204    Tw      228   783    158  2.756222          220          40 23.2
## 3  205    Tw       38   783     90  1.570000           30          30 10.6
## 4  206    Tw       28   785    355  6.192778          250          40 10.8
## 5  209    Tw       47   790    340  5.931111          260          55 14.1
## 6  210    Tw        7   790    350  6.105556          180          30 11.4
##   Plantulas Juveniles Adultos T_Num Lado_vereda     lat      long
## 1         6        21       5    32   izquierda 18.2875 -65.80417
## 2         7        12       7    26   izquierda 18.2925 -65.80580
## 3         2         2       0     4     derecha 18.2922 -65.80670
## 4         6        21       5    32   izquierda 18.2919 -65.80640
## 5         5        10       0    15     derecha 18.2911 -65.80780
## 6         0        10       8    18   izquierda 18.2914 -65.80780</code></pre>
<hr />
</div>
<div id="posicionar-las-barras-uno-al-lado-del-otro" class="section level1">
<h1>Posicionar las barras uno al lado del otro</h1>
<p>Para presentar los grupos uno al lado del otro se usa el parámetro <strong>position =“dodge”</strong>, lo que hará que cada grupo quede posicionado contiguamente. Además, removeremos la leyenda con <strong>guides(fill=FALSE)</strong> como se muestra a continuación con los datos de la <em>Dipodium rosea</em>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fruit_position_effect,frutos_si_o_no )<span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(fruit_position_effect)<span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(fruit_position_effect))<span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="fu">factor</span>(frutos_si_o_no)),<span class="at">color=</span><span class="st">&quot;white&quot;</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>)<span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra3-1.png" width="672" /></p>
<hr />
</div>
<div id="posicionar-las-barras-una-encima-de-la-otra" class="section level1">
<h1>Posicionar las barras una encima de la otra</h1>
<p>En el próximo gráfico, la frecuencia de ambos grupos comienza en cero pero aún saldrán sobrepuestos uno al otro usando <strong>position=identity</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fruit_position_effect,frutos_si_o_no )<span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(fruit_position_effect)<span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(fruit_position_effect))<span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span><span class="fu">factor</span>(frutos_si_o_no)),<span class="at">color=</span><span class="st">&quot;white&quot;</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>)<span class="sc">+</span> <span class="co"># Para que cada grupo comience en cero</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra3b-1.png" width="672" /></p>
<hr />
</div>
<div id="porcentaje-porporcional-a-todos-los-valores" class="section level1">
<h1>Porcentaje porporcional a todos los valores</h1>
<p>Para mostrar el porcentaje de cada uno de los grupos, tenemos que usar una fórmula para calcular la proporción por grupo usando <strong>y=(..count..)/sum(..count..)</strong>. Así la suma de todas las barras equivale al 100%. Vemos que en las categorías altas (que aparecen más a la derecha en el gráfico) algunas barras están más anchas. Esto se debe a que, en el archivo de datos, para algunas de estas posiciones de las flores en la inflorescencia no hay información para la segunda especie (la que aparece en azul). Esto se puede resolver añadiendo la información en el archivo original.</p>
<p>fill=factor(Frutos_si_o_no)</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fruit_position_effect,frutos_si_o_no )<span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(fruit_position_effect)<span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(fruit_position_effect))<span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..), </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill=</span><span class="fu">factor</span>(frutos_si_o_no)),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">position=</span><span class="st">&quot;identity&quot;</span>)<span class="sc">+</span> <span class="co"># Para que cada grupo comience en cero se usa position = &quot;identity&quot;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Frecuencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra3a-1.png" width="672" /></p>
<hr />
<hr />
</div>
<div id="porcentaje-por-valos-de-cada-x" class="section level1">
<h1>Porcentaje por valos de cada <strong>X</strong></h1>
<p>Para que cada barra represente el 100% de los grupos en el eje de <strong>X</strong>, se usa el parámetro <strong>position=“fill”</strong>. En el siguiente ejemplo se le añade la variable discreta en este caso; o sea, si la planta tiene frutos (verde) o no (rojo). Ecologicamente se observa que la posición de las flores arriba (&gt;27) en la inflorescencia resulta en menos frutos porcentualmente que las posiciones más abajo.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(scales)</span></code></pre></div>
<pre><code>## Loading required package: scales</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(fruit_position_effect,frutos_si_o_no )<span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(fruit_position_effect)<span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">factor</span>(fruit_position_effect),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill=</span><span class="fu">factor</span>(frutos_si_o_no)))<span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">/</span><span class="fu">sum</span>(..count..)),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">position=</span><span class="st">&quot;fill&quot;</span>)<span class="sc">+</span> <span class="co"># Para que cada columna sume a 1.0 se usa position = &quot;fill&quot;</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Posiciones de las flores en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proporción&quot;</span>)<span class="sc">+</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra4-1.png" width="672" /></p>
<hr />
<ol start="2" style="list-style-type: decimal">
<li><p>Seleccione el archivo “Lelto” en el paquete “ggversa”. Seleccione la variable adultos o juvenil, que representa la cantidad de plantas adulto o juvenil que se encuentra en el árbol. Los datos son de una pequeñita orquídea que esta limitado las veredas del “El Toro” y de los “Vientos Alizios” en el Yunque. Primero se va unir las columnas de juvenil con las de adultos, para después hacer un gráfico donde cada columna sume a 1.0 se usa position = “fill”.</p>
<p>– paso 1</p>
<p>head(Lelto)</p>
<p>– paso 2</p>
<p>df=Lelto %&gt;% select(Juveniles, Adultos)</p>
<p>– paso 3</p>
<p>dfLelto = df%&gt;% gather(key=“Estado”, value=“Conteos”) # <span style="color: red;">gather( )</span> recuerda esta función, siempre me hace dificil encontrarla en el web.</p>
<p>– Mire el nombre de las columnas primero y como esta organiado</p>
<ul>
<li>Cambie de color las barras</li>
<li>Cambie el nombre de los nombres de los ejes</li>
<li>Salva el gráfico con extensión de .png</li>
<li>Sube el gráfico a Edmodo</li>
</ul></li>
</ol>
<hr />
</div>
<div id="reordenar-las-barras-con-geom_bar" class="section level1">
<h1>Reordenar las barras con <strong>geom_bar</strong></h1>
<p>En el siguiente gráfico, reordenamos la secuencia en <strong>X</strong> por orden del número de flores y su frecuencia. Primero, hay que crear una función para reordenar la variable, la que llamaremos <strong>reorder_size</strong>. El segundo paso es invocar esta función desde <strong>ggplot</strong>. La función es aplicable a cualquier variable que uno quisiera ordenar y tener como factor. En la figura podemos observar que en el muestreo hay solamente una planta con la siguiente cantidad de flores (1, 3, 4, 7, 8, 34, 36, 37, 43; extremo izquierda), y hay 13 plantas con 23 flores (extremo derecha) y otras frecuencias de plantas con diferentes cantidades de flores entre medio.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aquí se crea una función para re-ordenar la variable X. </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>reorder_size <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(x, <span class="at">levels =</span> <span class="fu">names</span>(<span class="fu">sort</span>(<span class="fu">table</span>(x))))</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>DW<span class="sc">%&gt;%</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(number_of_flowers )<span class="sc">%&gt;%</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(number_of_flowers)<span class="sc">%&gt;%</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder_size</span>(number_of_flowers)))<span class="sc">+</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="st">&quot;olivedrab&quot;</span>)<span class="sc">+</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">13</span>))<span class="sc">+</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Número de plantas con la cantidad de flores&quot;</span>, </span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Cantidad de flores </span><span class="sc">\n</span><span class="st"> en la inflorescencia&quot;</span>)<span class="sc">+</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/dipodium-barra5-1.png" width="672" /></p>
<hr />
</div>
<div id="pirámides-poblacionales-con-geom_bar" class="section level1">
<h1>Pirámides poblacionales con <strong>geom_bar</strong></h1>
<p>Un ejemplo interesante de <strong>geom_bar</strong> es cuando creamos pirámides poblacionales. Para el próximo ejemplo utilizaremos datos del censo de la base de datos de la Oficina del Censo de los EE. UU. <strong>US Census</strong> del 2015 sobre la población de Puerto Rico. Los datos representan la cantidad de mujeres en <span style="color: blue;">azul</span> y hombres en <span style="color: red;">rojo</span> en categorías de edad; o sea, de 0 a 4 años, de 5 a 9 años y así sucesivamente. La última categoría incluye todos los puertorriqueños de 85 años o más. Para producir este gráfico, se generarán dos <strong>geom_bar</strong> uno al lado del otro; uno con los datos de <strong>Mujer</strong> (derecha) y otro con los datos de <strong>Hombre</strong> (izquierda).</p>
<p>Para especificar que se usen solamente los datos de un subgrupo de cada variable, se hace de la misma manera que en R; o sea,</p>
<pre><code>subset(Pop_PR,Pop_PR$Sexo==&quot;Mujer&quot;) # el &quot;==&quot; es para indicar que tiene que cu mplir con esta condición exclusiva</code></pre>
<p>También note que tenemos datos a la izquierda y a la derecha del valor de cero. Se produce este patrón usando {-Valor} en uno de los grupos, donde el valor es el tamaño poblacional por grupo de edad. Por último, se tiene que añadir <strong>coord_flip()</strong> para que las barras queden de forma horizontal.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>ggversa<span class="sc">::</span>Pop_PR</span></code></pre></div>
<pre><code>##      Sexo  Valor Edad
## 1  Hombre  89507    0
## 2  Hombre 102622    5
## 3  Hombre 112350   10
## 4  Hombre 124179   15
## 5  Hombre 125971   20
## 6  Hombre 111167   25
## 7  Hombre  99855   30
## 8  Hombre 104890   35
## 9  Hombre 104593   40
## 10 Hombre 106235   45
## 11 Hombre 107561   50
## 12 Hombre 102377   55
## 13 Hombre  93510   60
## 14 Hombre  89880   65
## 15 Hombre  70294   70
## 16 Hombre  50879   75
## 17 Hombre  32160   80
## 18 Hombre  28118   85
## 19  Mujer  85368    0
## 20  Mujer  97790    5
## 21  Mujer 105397   10
## 22  Mujer 118389   15
## 23  Mujer 122821   20
## 24  Mujer 113504   25
## 25  Mujer 109102   30
## 26  Mujer 116325   35
## 27  Mujer 115224   40
## 28  Mujer 118525   45
## 29  Mujer 124980   50
## 30  Mujer 121569   55
## 31  Mujer 113409   60
## 32  Mujer 109224   65
## 33  Mujer  87289   70
## 34  Mujer  65082   75
## 35  Mujer  46233   80
## 36  Mujer  47803   85</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para observar las primeras 4 filas del archivo</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Pop_PR, <span class="at">n=</span><span class="dv">50</span>)</span></code></pre></div>
<pre><code>##      Sexo  Valor Edad
## 1  Hombre  89507    0
## 2  Hombre 102622    5
## 3  Hombre 112350   10
## 4  Hombre 124179   15
## 5  Hombre 125971   20
## 6  Hombre 111167   25
## 7  Hombre  99855   30
## 8  Hombre 104890   35
## 9  Hombre 104593   40
## 10 Hombre 106235   45
## 11 Hombre 107561   50
## 12 Hombre 102377   55
## 13 Hombre  93510   60
## 14 Hombre  89880   65
## 15 Hombre  70294   70
## 16 Hombre  50879   75
## 17 Hombre  32160   80
## 18 Hombre  28118   85
## 19  Mujer  85368    0
## 20  Mujer  97790    5
## 21  Mujer 105397   10
## 22  Mujer 118389   15
## 23  Mujer 122821   20
## 24  Mujer 113504   25
## 25  Mujer 109102   30
## 26  Mujer 116325   35
## 27  Mujer 115224   40
## 28  Mujer 118525   45
## 29  Mujer 124980   50
## 30  Mujer 121569   55
## 31  Mujer 113409   60
## 32  Mujer 109224   65
## 33  Mujer  87289   70
## 34  Mujer  65082   75
## 35  Mujer  46233   80
## 36  Mujer  47803   85</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para observar las ultimas 4 filas del archivo</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(Pop_PR, <span class="at">n=</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##     Sexo Valor Edad
## 33 Mujer 87289   70
## 34 Mujer 65082   75
## 35 Mujer 46233   80
## 36 Mujer 47803   85</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>Pop_PR) <span class="sc">+</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(Edad,Valor,<span class="at">group=</span>Sexo,<span class="at">fill=</span>Sexo),</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">subset</span>(Pop_PR,Pop_PR<span class="sc">$</span>Sexo<span class="sc">==</span><span class="st">&quot;Mujer&quot;</span>))<span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(Edad,<span class="sc">-</span>Valor,<span class="at">group=</span>Sexo,<span class="at">fill=</span>Sexo),  <span class="co"># nota el &quot;negativo&quot; antes de la </span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>           <span class="co">#variable &quot;Valor&quot;, se le esta asignando un valor negativo a cada valor a los hombres.  </span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>           <span class="fu">subset</span>(Pop_PR,Pop_PR<span class="sc">$</span>Sexo<span class="sc">==</span><span class="st">&quot;Hombre&quot;</span>))<span class="sc">+</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">140000</span>,<span class="dv">140000</span>,<span class="dv">40000</span>),</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="dv">140000</span>,<span class="dv">140000</span>,<span class="dv">40000</span>)))<span class="sc">+</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Tamaño poblacional&quot;</span>)<span class="sc">+</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/geom-barraDemo-1.png" width="672" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Population Pyramid de PR, del censo 2015. </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave(&quot;Graficos/Piramide_PR_censo2015.png&quot;)</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>Pop_PR<span class="sc">$</span>SexoNum<span class="ot">=</span><span class="fu">as.numeric</span>(Pop_PR<span class="sc">$</span>Sexo)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Pop_PR)</span></code></pre></div>
<pre><code>##     Sexo  Valor Edad SexoNum
## 1 Hombre  89507    0       1
## 2 Hombre 102622    5       1
## 3 Hombre 112350   10       1
## 4 Hombre 124179   15       1
## 5 Hombre 125971   20       1
## 6 Hombre 111167   25       1</code></pre>
<hr />
<p>Si no se le añade coord_flip(), el gráfico quedará representado con las barras de forma vertical (o en columnas).</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Pop_PR<span class="sc">$</span>Sexo)</span></code></pre></div>
<pre><code>## [1] Hombre Mujer 
## Levels: Hombre Mujer</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>Pop_PR) <span class="sc">+</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(Edad,Valor,<span class="at">group=</span>Sexo,<span class="at">fill=</span>Sexo),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">subset</span>(Pop_PR,Pop_PR<span class="sc">$</span>Sexo<span class="sc">==</span><span class="st">&quot;Mujer&quot;</span>))<span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(Edad,<span class="sc">-</span>Valor,<span class="at">group=</span>Sexo,<span class="at">fill=</span>Sexo),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>           <span class="fu">subset</span>(Pop_PR,Pop_PR<span class="sc">$</span>Sexo<span class="sc">==</span><span class="st">&quot;Hombre&quot;</span>)) <span class="sc">+</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">140000</span>,<span class="dv">140000</span>,<span class="dv">40000</span>),</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="dv">140000</span>,<span class="dv">140000</span>,<span class="dv">40000</span>))) <span class="sc">+</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Tamaño poblacional&quot;</span>)<span class="sc">+</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/geom-barraDemo2-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Seleccione el archivo “DominicanRepublic,csv” que se encuentra en la pestaña “Los datos”. Estos datos provienen las naciones unidas del siguiente enlace <a href="http://data.un.org/Data.aspx?d=POP&amp;f=tableCode%3A22">PoblacionEdad_genero</a>, los datos fueron pre-selecionado a incluir solamente los datos la isla de la Republica Dominicana y no todos los países del mundo. Seleccione la variable solamente el país de “Dominican Republican”, mujeres y hombres, para el año de 2010, y el área solamente la población del campo. Que representa la cantidad de personas con esta edad en el muestreo censal del año 2013.</p>
<p>– paso 1</p>
<p>subir los datos</p>
<p>– paso 2</p>
<p>seleccionar las columnas y variables de interes</p>
<p>– paso 3</p>
<p>Producir una piramide de la poblacion de la Republica Dominicana</p>
<p>– Mire el nombre de las columnas primero y como esta organiado</p>
<ul>
<li>Cambie de color las barras</li>
<li>Cambie el nombre de los nombres de los ejes</li>
<li>Salva el gráfico con extensión de .png</li>
<li>Sube el gráfico a Edmodo</li>
</ul></li>
</ol>
<hr />
<div id="patrones-de-temperatura-en-tiempo-con-geom_bar" class="section level2">
<h2>Patrones de temperatura en tiempo con <strong>geom_bar</strong></h2>
<p>Este tipo de representación puede ser efectiva para mostrar patrones en donde los valores son negativos y positivos; por ejemplo, la temperatura. Para demostrarlo, ahora daremos un ejemplo que proviene del pueblo de Asbestos, Quebec, Canadá. Los datos fueron extraídos de la base de datos de <a href="http://climate.weather.gc.ca/historical_data/search_historic_data_e.html" class="uri">http://climate.weather.gc.ca/historical_data/search_historic_data_e.html</a> (identifier 7020360). El archivo de datos contiene la temperatura promedio (por mes) de la máxima y la mínima del 1948 al 1987. Seleccionaremos solamente un conjunto limitado de los datos del año 1963 al 1968. Además, tendremos que voltear la información alrededor del eje de <strong>X</strong> para que se pueda leer, tal como se demuestra en la Figura. El primer paso es identificar que la variable Fecha es de tipo dato secuencial fecha y tiempo. El segundo paso es identificar si los valores de temperatura máxima están por debajo o por encima del punto de congelación, &lt; 0C°, o &gt; 0C°, creando una nueva columna que aquí llamamos <strong>NegPos</strong>. El tercer paso es usar solamente un subgrupo de información del archivo para mejorar la representación, ya que este tiene datos del 1948 al 1987. Se seleccionan los años 1963 al 1966.</p>
<div id="primero-miramos-los-datos" class="section level3">
<h3>Primero miramos los datos</h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggversa)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ASBESTOS_QUEBEC)</span></code></pre></div>
<pre><code>## [1] &quot;Year&quot;          &quot;Mes&quot;           &quot;Temp_Prom_Max&quot; &quot;Temp_Prom_Min&quot;
## [5] &quot;Fecha&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ASBESTOS_QUEBEC)</span></code></pre></div>
<pre><code>##   Year Mes Temp_Prom_Max Temp_Prom_Min   Fecha
## 1 1948   6          22.2           9.9 1948-06
## 2 1948   7          25.5          14.2 1948-07
## 3 1948   8          24.9          14.2 1948-08
## 4 1948   9          21.6           8.4 1948-09
## 5 1948  10          12.0           2.6 1948-10
## 6 1948  11          10.3           1.9 1948-11</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.data.frame</span>(ASBESTOS_QUEBEC) <span class="co"># para determinar si el archivo es un data frame?</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(ASBESTOS_QUEBEC)</span></code></pre></div>
</div>
<div id="identificar-que-la-variable-fecha-es-una-variable-de-tiempo.-habrá-un-modulo-para-discutir-solamente-de-fechas-y-horas." class="section level3">
<h3>Identificar que la variable “Fecha” es una variable de tiempo. Habrá un modulo para discutir solamente de fechas y horas.</h3>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar que la variable &quot;Fecha&quot; es una variable de tiempo.</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ASBESTOS_QUEBEC)[<span class="fu">names</span>(ASBESTOS_QUEBEC) <span class="sc">==</span> <span class="st">&#39;Date.Time&#39;</span>] <span class="ot">&lt;-</span> <span class="st">&#39;Fecha&#39;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ASBESTOS_QUEBEC, <span class="at">n=</span><span class="dv">15</span>)</span></code></pre></div>
<pre><code>##    Year Mes Temp_Prom_Max Temp_Prom_Min   Fecha
## 1  1948   6          22.2           9.9 1948-06
## 2  1948   7          25.5          14.2 1948-07
## 3  1948   8          24.9          14.2 1948-08
## 4  1948   9          21.6           8.4 1948-09
## 5  1948  10          12.0           2.6 1948-10
## 6  1948  11          10.3           1.9 1948-11
## 7  1948  12           1.4          -7.8 1948-12
## 8  1949   1          -1.9         -12.3 1949-01
## 9  1949   2            NA            NA 1949-02
## 10 1949   3           1.4          -9.2 1949-03
## 11 1949   4          10.6           0.2 1949-04
## 12 1949   5          17.6           5.0 1949-05
## 13 1949   6          24.4          12.9 1949-06
## 14 1949   7          26.6          17.7 1949-07
## 15 1949   8          25.4          13.9 1949-08</code></pre>
</div>
<div id="crear-la-nueva-variable-temp_prom_max" class="section level3">
<h3>Crear la nueva variable Temp_Prom_Max;</h3>
<p>Aquí se crea una nueva columna con para identificar si los datos son positivos o negativos, si es positiva = “TRUE”, si es negativa = “FALSE”.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ASBESTOS_QUEBEC<span class="sc">$</span>NegPos   <span class="ot">=</span>  ASBESTOS_QUEBEC<span class="sc">$</span>Temp_Prom_Max<span class="sc">&gt;=</span><span class="dv">0</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ASBESTOS_QUEBEC, <span class="at">n=</span><span class="dv">12</span>)</span></code></pre></div>
<pre><code>##    Year Mes Temp_Prom_Max Temp_Prom_Min   Fecha NegPos
## 1  1948   6          22.2           9.9 1948-06   TRUE
## 2  1948   7          25.5          14.2 1948-07   TRUE
## 3  1948   8          24.9          14.2 1948-08   TRUE
## 4  1948   9          21.6           8.4 1948-09   TRUE
## 5  1948  10          12.0           2.6 1948-10   TRUE
## 6  1948  11          10.3           1.9 1948-11   TRUE
## 7  1948  12           1.4          -7.8 1948-12   TRUE
## 8  1949   1          -1.9         -12.3 1949-01  FALSE
## 9  1949   2            NA            NA 1949-02     NA
## 10 1949   3           1.4          -9.2 1949-03   TRUE
## 11 1949   4          10.6           0.2 1949-04   TRUE
## 12 1949   5          17.6           5.0 1949-05   TRUE</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(ASBESTOS_QUEBEC)</span></code></pre></div>
<pre><code>##     Year Mes Temp_Prom_Max Temp_Prom_Min   Fecha NegPos
## 461 1986  10          10.5           2.7 1986-10   TRUE
## 462 1986  11           2.2          -5.7 1986-11   TRUE
## 463 1986  12            NA            NA 1986-12     NA
## 464 1987   1            NA            NA 1987-01     NA
## 465 1987   2          -7.8         -18.6 1987-02  FALSE
## 466 1987   3           3.3          -6.4 1987-03   TRUE</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>ASBESTOS_QUEBEC<span class="ot">=</span><span class="fu">clean_names</span>(ASBESTOS_QUEBEC)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>ASBESTOS_QUEBEC</span></code></pre></div>
<pre><code>##     year mes temp_prom_max temp_prom_min   fecha neg_pos
## 1   1948   6          22.2           9.9 1948-06    TRUE
## 2   1948   7          25.5          14.2 1948-07    TRUE
## 3   1948   8          24.9          14.2 1948-08    TRUE
## 4   1948   9          21.6           8.4 1948-09    TRUE
## 5   1948  10          12.0           2.6 1948-10    TRUE
## 6   1948  11          10.3           1.9 1948-11    TRUE
## 7   1948  12           1.4          -7.8 1948-12    TRUE
## 8   1949   1          -1.9         -12.3 1949-01   FALSE
## 9   1949   2            NA            NA 1949-02      NA
## 10  1949   3           1.4          -9.2 1949-03    TRUE
## 11  1949   4          10.6           0.2 1949-04    TRUE
## 12  1949   5          17.6           5.0 1949-05    TRUE
## 13  1949   6          24.4          12.9 1949-06    TRUE
## 14  1949   7          26.6          17.7 1949-07    TRUE
## 15  1949   8          25.4          13.9 1949-08    TRUE
## 16  1949   9          17.8           8.9 1949-09    TRUE
## 17  1949  10          16.2           4.3 1949-10    TRUE
## 18  1949  11           2.4          -5.8 1949-11    TRUE
## 19  1949  12           0.1         -10.6 1949-12    TRUE
## 20  1950   1           0.1         -13.2 1950-01    TRUE
## 21  1950   2          -6.8         -18.2 1950-02   FALSE
## 22  1950   3          -1.4         -13.7 1950-03   FALSE
## 23  1950   4           7.7          -1.4 1950-04    TRUE
## 24  1950   5          18.9           5.6 1950-05    TRUE
## 25  1950   6          23.3          11.6 1950-06    TRUE
## 26  1950   7          24.7          13.4 1950-07    TRUE
## 27  1950   8          22.9          11.7 1950-08    TRUE
## 28  1950   9          16.8           5.9 1950-09    TRUE
## 29  1950  10          13.6           3.0 1950-10    TRUE
## 30  1950  11           7.4          -1.7 1950-11    TRUE
## 31  1950  12          -2.8         -10.9 1950-12   FALSE
## 32  1951   1          -2.6         -15.1 1951-01   FALSE
## 33  1951   2          -1.4         -13.3 1951-02   FALSE
## 34  1951   3           2.5          -6.6 1951-03    TRUE
## 35  1951   4           9.4           1.2 1951-04    TRUE
## 36  1951   5          17.4           5.3 1951-05    TRUE
## 37  1951   6          22.2          10.4 1951-06    TRUE
## 38  1951   7          24.3          13.7 1951-07    TRUE
## 39  1951   8          21.3          12.1 1951-08    TRUE
## 40  1951   9          18.9           6.3 1951-09    TRUE
## 41  1951  10          14.4           3.8 1951-10    TRUE
## 42  1951  11           2.7          -6.9 1951-11    TRUE
## 43  1951  12          -3.1         -12.5 1951-12   FALSE
## 44  1952   1          -4.6         -17.2 1952-01   FALSE
## 45  1952   2          -3.2         -12.7 1952-02   FALSE
## 46  1952   3           1.3          -7.2 1952-03    TRUE
## 47  1952   4          10.8           0.9 1952-04    TRUE
## 48  1952   5          14.3           4.2 1952-05    TRUE
## 49  1952   6            NA            NA 1952-06      NA
## 50  1952   7          27.9          12.2 1952-07    TRUE
## 51  1952   8          25.6          12.4 1952-08    TRUE
## 52  1952   9          19.8           8.8 1952-09    TRUE
## 53  1952  10          10.0           1.1 1952-10    TRUE
## 54  1952  11           5.9          -2.4 1952-11    TRUE
## 55  1952  12          -1.7          -8.6 1952-12   FALSE
## 56  1953   1            NA         -13.6 1953-01      NA
## 57  1953   2            NA         -13.8 1953-02      NA
## 58  1953   3           2.9          -6.6 1953-03    TRUE
## 59  1953   4            NA            NA 1953-04      NA
## 60  1953   5          19.9           6.1 1953-05    TRUE
## 61  1953   6          22.9          11.3 1953-06    TRUE
## 62  1953   7          24.9          13.8 1953-07    TRUE
## 63  1953   8          23.3          10.5 1953-08    TRUE
## 64  1953   9          18.4            NA 1953-09    TRUE
## 65  1953  10          14.1            NA 1953-10    TRUE
## 66  1953  11           7.2          -0.6 1953-11    TRUE
## 67  1953  12           1.2          -8.1 1953-12    TRUE
## 68  1954   1            NA            NA 1954-01      NA
## 69  1954   2           0.1            NA 1954-02    TRUE
## 70  1954   3           0.6            NA 1954-03    TRUE
## 71  1954   4          10.0            NA 1954-04    TRUE
## 72  1954   5            NA            NA 1954-05      NA
## 73  1954   6          22.0            NA 1954-06    TRUE
## 74  1954   7          23.2            NA 1954-07    TRUE
## 75  1954   8          21.5            NA 1954-08    TRUE
## 76  1954   9          15.3           7.6 1954-09    TRUE
## 77  1954  10          13.3           5.6 1954-10    TRUE
## 78  1954  11           5.3          -2.1 1954-11    TRUE
## 79  1954  12          -3.2         -10.8 1954-12   FALSE
## 80  1955   1          -8.5         -14.7 1955-01   FALSE
## 81  1955   2          -3.7         -13.2 1955-02   FALSE
## 82  1955   3          -1.7          -8.6 1955-03   FALSE
## 83  1955   4          10.3           1.6 1955-04    TRUE
## 84  1955   5          18.8           8.9 1955-05    TRUE
## 85  1955   6          23.7          12.6 1955-06    TRUE
## 86  1955   7          27.9          15.8 1955-07    TRUE
## 87  1955   8          25.5          14.0 1955-08    TRUE
## 88  1955   9          18.2           7.7 1955-09    TRUE
## 89  1955  10          12.4           4.5 1955-10    TRUE
## 90  1955  11           2.6          -3.1 1955-11    TRUE
## 91  1955  12          -8.7         -15.2 1955-12   FALSE
## 92  1956   1          -4.3         -10.7 1956-01   FALSE
## 93  1956   2          -4.4         -12.1 1956-02   FALSE
## 94  1956   3          -1.9         -11.6 1956-03   FALSE
## 95  1956   4           7.1          -0.7 1956-04    TRUE
## 96  1956   5          13.6           2.2 1956-05    TRUE
## 97  1956   6          21.4          12.6 1956-06    TRUE
## 98  1956   7          22.3          12.4 1956-07    TRUE
## 99  1956   8          22.4          12.2 1956-08    TRUE
## 100 1956   9          16.9           6.4 1956-09    TRUE
## 101 1956  10          13.4           3.7 1956-10    TRUE
## 102 1956  11           4.9          -2.3 1956-11    TRUE
## 103 1956  12            NA         -11.1 1956-12      NA
## 104 1957   1            NA         -18.9 1957-01      NA
## 105 1957   2          -3.0         -11.4 1957-02   FALSE
## 106 1957   3           1.9          -6.6 1957-03    TRUE
## 107 1957   4           9.7           0.3 1957-04    TRUE
## 108 1957   5          16.4           4.7 1957-05    TRUE
## 109 1957   6            NA            NA 1957-06      NA
## 110 1957   7          23.7            NA 1957-07    TRUE
## 111 1957   8          21.9            NA 1957-08    TRUE
## 112 1957   9          19.9            NA 1957-09    TRUE
## 113 1957  10          12.5           3.3 1957-10    TRUE
## 114 1957  11            NA            NA 1957-11      NA
## 115 1957  12           0.4          -8.9 1957-12    TRUE
## 116 1958   1            NA            NA 1958-01      NA
## 117 1958   2          -6.9            NA 1958-02   FALSE
## 118 1958   3           3.4            NA 1958-03    TRUE
## 119 1958   4          11.8            NA 1958-04    TRUE
## 120 1958   5          14.7            NA 1958-05    TRUE
## 121 1958   6          19.2            NA 1958-06    TRUE
## 122 1958   7          24.7            NA 1958-07    TRUE
## 123 1958   8            NA            NA 1958-08      NA
## 124 1958   9          18.1            NA 1958-09    TRUE
## 125 1958  10            NA            NA 1958-10      NA
## 126 1958  11            NA            NA 1958-11      NA
## 127 1958  12            NA            NA 1958-12      NA
## 128 1959   1            NA            NA 1959-01      NA
## 129 1959   2          -4.6            NA 1959-02   FALSE
## 130 1959   3           0.8            NA 1959-03    TRUE
## 131 1959   4          10.2            NA 1959-04    TRUE
## 132 1959   5            NA           6.6 1959-05      NA
## 133 1959   6          22.4            NA 1959-06    TRUE
## 134 1959   7          27.6            NA 1959-07    TRUE
## 135 1959   8          24.9            NA 1959-08    TRUE
## 136 1959   9          20.8           9.9 1959-09    TRUE
## 137 1959  10          10.9            NA 1959-10    TRUE
## 138 1959  11           4.4            NA 1959-11    TRUE
## 139 1959  12            NA            NA 1959-12      NA
## 140 1960   1            NA            NA 1960-01      NA
## 141 1960   2            NA            NA 1960-02      NA
## 142 1960   3          -1.3            NA 1960-03   FALSE
## 143 1960   4            NA            NA 1960-04      NA
## 144 1960   5            NA            NA 1960-05      NA
## 145 1960   6          22.9            NA 1960-06    TRUE
## 146 1960   7            NA            NA 1960-07      NA
## 147 1960   8          24.5            NA 1960-08    TRUE
## 148 1960   9          20.2            NA 1960-09    TRUE
## 149 1960  10          11.4            NA 1960-10    TRUE
## 150 1960  11           6.0          -0.3 1960-11    TRUE
## 151 1960  12            NA         -13.0 1960-12      NA
## 152 1961   1         -10.2            NA 1961-01   FALSE
## 153 1961   2          -3.4         -12.7 1961-02   FALSE
## 154 1961   3           0.0          -8.1 1961-03    TRUE
## 155 1961   4            NA            NA 1961-04      NA
## 156 1961   5          15.5           5.5 1961-05    TRUE
## 157 1961   6          21.7          11.4 1961-06    TRUE
## 158 1961   7          24.5            NA 1961-07    TRUE
## 159 1961   8          22.8          14.1 1961-08    TRUE
## 160 1961   9          22.3          12.6 1961-09    TRUE
## 161 1961  10          14.6           5.3 1961-10    TRUE
## 162 1961  11           4.7          -1.3 1961-11    TRUE
## 163 1961  12          -2.2          -7.6 1961-12   FALSE
## 164 1962   1          -5.9         -16.0 1962-01   FALSE
## 165 1962   2            NA            NA 1962-02      NA
## 166 1962   3            NA            NA 1962-03      NA
## 167 1962   4            NA            NA 1962-04      NA
## 168 1962   5            NA           6.6 1962-05      NA
## 169 1962   6          22.9          10.7 1962-06    TRUE
## 170 1962   7          22.4          11.8 1962-07    TRUE
## 171 1962   8          23.4          13.3 1962-08    TRUE
## 172 1962   9          16.8           8.4 1962-09    TRUE
## 173 1962  10            NA            NA 1962-10      NA
## 174 1962  11           2.7          -4.1 1962-11    TRUE
## 175 1962  12            NA            NA 1962-12      NA
## 176 1963   1          -6.6         -12.7 1963-01   FALSE
## 177 1963   2          -9.0         -16.7 1963-02   FALSE
## 178 1963   3           0.6          -8.8 1963-03    TRUE
## 179 1963   4           8.2          -0.9 1963-04    TRUE
## 180 1963   5          16.9           5.7 1963-05    TRUE
## 181 1963   6          23.1          12.3 1963-06    TRUE
## 182 1963   7          25.1          16.3 1963-07    TRUE
## 183 1963   8            NA            NA 1963-08      NA
## 184 1963   9            NA            NA 1963-09      NA
## 185 1963  10          15.2            NA 1963-10    TRUE
## 186 1963  11           6.2          -0.1 1963-11    TRUE
## 187 1963  12          -9.3         -15.8 1963-12   FALSE
## 188 1964   1          -3.3         -11.3 1964-01   FALSE
## 189 1964   2          -4.2         -13.2 1964-02   FALSE
## 190 1964   3           1.5          -6.9 1964-03    TRUE
## 191 1964   4           9.2           0.1 1964-04    TRUE
## 192 1964   5          19.1           8.1 1964-05    TRUE
## 193 1964   6          22.3          10.0 1964-06    TRUE
## 194 1964   7          25.1          15.0 1964-07    TRUE
## 195 1964   8          20.4          11.3 1964-08    TRUE
## 196 1964   9          17.2           6.8 1964-09    TRUE
## 197 1964  10          11.3           2.5 1964-10    TRUE
## 198 1964  11           4.3          -3.1 1964-11    TRUE
## 199 1964  12          -3.4         -11.3 1964-12   FALSE
## 200 1965   1          -6.9         -16.4 1965-01   FALSE
## 201 1965   2          -4.5         -13.7 1965-02   FALSE
## 202 1965   3           0.3          -7.7 1965-03    TRUE
## 203 1965   4           8.3          -1.6 1965-04    TRUE
## 204 1965   5          18.3           7.2 1965-05    TRUE
## 205 1965   6          22.3          11.4 1965-06    TRUE
## 206 1965   7          22.7          11.3 1965-07    TRUE
## 207 1965   8          22.1          12.8 1965-08    TRUE
## 208 1965   9          19.5           9.6 1965-09    TRUE
## 209 1965  10           9.8           2.6 1965-10    TRUE
## 210 1965  11           1.7          -4.3 1965-11    TRUE
## 211 1965  12          -1.8          -8.0 1965-12   FALSE
## 212 1966   1          -6.8         -15.1 1966-01   FALSE
## 213 1966   2          -3.7         -12.5 1966-02   FALSE
## 214 1966   3           2.0          -6.1 1966-03    TRUE
## 215 1966   4           8.7          -0.9 1966-04    TRUE
## 216 1966   5          14.8           4.8 1966-05    TRUE
## 217 1966   6          22.6          12.5 1966-06    TRUE
## 218 1966   7          24.3          13.2 1966-07    TRUE
## 219 1966   8          22.5          13.3 1966-08    TRUE
## 220 1966   9          17.3           7.1 1966-09    TRUE
## 221 1966  10          11.6           3.2 1966-10    TRUE
## 222 1966  11           7.4           0.8 1966-11    TRUE
## 223 1966  12          -2.3          -9.8 1966-12   FALSE
## 224 1967   1          -2.6          -9.7 1967-01   FALSE
## 225 1967   2          -7.4         -18.2 1967-02   FALSE
## 226 1967   3          -0.8         -12.1 1967-03   FALSE
## 227 1967   4           8.3          -1.5 1967-04    TRUE
## 228 1967   5          12.6           2.8 1967-05    TRUE
## 229 1967   6          24.2          13.7 1967-06    TRUE
## 230 1967   7          24.7          15.5 1967-07    TRUE
## 231 1967   8          23.0          14.3 1967-08    TRUE
## 232 1967   9          19.4           8.7 1967-09    TRUE
## 233 1967  10          11.9           4.0 1967-10    TRUE
## 234 1967  11           1.7          -3.9 1967-11    TRUE
## 235 1967  12          -1.8          -9.7 1967-12   FALSE
## 236 1968   1          -8.8         -18.2 1968-01   FALSE
## 237 1968   2          -7.8         -17.1 1968-02   FALSE
## 238 1968   3           2.8          -5.3 1968-03    TRUE
## 239 1968   4          13.2           1.6 1968-04    TRUE
## 240 1968   5          17.6           5.3 1968-05    TRUE
## 241 1968   6          19.9          10.7 1968-06    TRUE
## 242 1968   7          25.3          14.7 1968-07    TRUE
## 243 1968   8          21.2          10.9 1968-08    TRUE
## 244 1968   9          20.9          10.8 1968-09    TRUE
## 245 1968  10          13.9           6.2 1968-10    TRUE
## 246 1968  11           1.8          -3.1 1968-11    TRUE
## 247 1968  12          -5.9         -12.4 1968-12   FALSE
## 248 1969   1          -4.2         -11.6 1969-01   FALSE
## 249 1969   2          -2.9          -9.7 1969-02   FALSE
## 250 1969   3          -0.2          -6.8 1969-03   FALSE
## 251 1969   4           7.8          -0.1 1969-04    TRUE
## 252 1969   5          15.7           5.7 1969-05    TRUE
## 253 1969   6          22.0          12.1 1969-06    TRUE
## 254 1969   7          24.1          13.5 1969-07    TRUE
## 255 1969   8          23.9          15.5 1969-08    TRUE
## 256 1969   9          18.2           9.1 1969-09    TRUE
## 257 1969  10          11.8           3.0 1969-10    TRUE
## 258 1969  11           5.4          -0.8 1969-11    TRUE
## 259 1969  12          -3.9         -10.4 1969-12   FALSE
## 260 1970   1         -10.1         -19.5 1970-01   FALSE
## 261 1970   2          -3.9         -12.8 1970-02   FALSE
## 262 1970   3           0.5          -6.6 1970-03    TRUE
## 263 1970   4          10.1          -0.2 1970-04    TRUE
## 264 1970   5            NA            NA 1970-05      NA
## 265 1970   6          23.5          11.5 1970-06    TRUE
## 266 1970   7          26.5          15.1 1970-07    TRUE
## 267 1970   8          24.5          13.9 1970-08    TRUE
## 268 1970   9          18.5           9.2 1970-09    TRUE
## 269 1970  10          15.4           5.8 1970-10    TRUE
## 270 1970  11           5.4          -0.6 1970-11    TRUE
## 271 1970  12          -7.3         -14.7 1970-12   FALSE
## 272 1971   1          -9.3         -18.0 1971-01   FALSE
## 273 1971   2          -4.0         -12.1 1971-02   FALSE
## 274 1971   3          -0.7          -7.7 1971-03   FALSE
## 275 1971   4           6.9          -1.4 1971-04    TRUE
## 276 1971   5          17.7           7.2 1971-05    TRUE
## 277 1971   6            NA            NA 1971-06      NA
## 278 1971   7            NA            NA 1971-07      NA
## 279 1971   8            NA            NA 1971-08      NA
## 280 1971   9          20.8          10.8 1971-09    TRUE
## 281 1971  10          15.8           5.8 1971-10    TRUE
## 282 1971  11           2.8          -4.4 1971-11    TRUE
## 283 1971  12          -3.4         -12.1 1971-12   FALSE
## 284 1972   1          -4.3         -14.3 1972-01   FALSE
## 285 1972   2          -6.8         -16.1 1972-02   FALSE
## 286 1972   3          -0.3          -9.9 1972-03   FALSE
## 287 1972   4           5.3          -2.7 1972-04    TRUE
## 288 1972   5          18.8           6.0 1972-05    TRUE
## 289 1972   6          21.9          12.6 1972-06    TRUE
## 290 1972   7          24.6          13.9 1972-07    TRUE
## 291 1972   8          21.6          12.2 1972-08    TRUE
## 292 1972   9          19.6           9.6 1972-09    TRUE
## 293 1972  10           9.3           1.3 1972-10    TRUE
## 294 1972  11           2.4          -4.1 1972-11    TRUE
## 295 1972  12          -3.7         -13.4 1972-12   FALSE
## 296 1973   1          -4.1         -13.2 1973-01   FALSE
## 297 1973   2          -6.0         -15.6 1973-02   FALSE
## 298 1973   3           5.7          -1.8 1973-03    TRUE
## 299 1973   4            NA           0.4 1973-04      NA
## 300 1973   5          15.8           6.6 1973-05    TRUE
## 301 1973   6          23.9          13.9 1973-06    TRUE
## 302 1973   7          26.3          15.9 1973-07    TRUE
## 303 1973   8          26.3          16.6 1973-08    TRUE
## 304 1973   9          18.2           8.5 1973-09    TRUE
## 305 1973  10          13.4           4.5 1973-10    TRUE
## 306 1973  11           2.1          -2.9 1973-11    TRUE
## 307 1973  12          -0.7          -7.2 1973-12   FALSE
## 308 1974   1          -5.4         -13.3 1974-01   FALSE
## 309 1974   2          -6.8         -15.0 1974-02   FALSE
## 310 1974   3           0.2          -8.2 1974-03    TRUE
## 311 1974   4           8.9           0.2 1974-04    TRUE
## 312 1974   5          14.1           5.1 1974-05    TRUE
## 313 1974   6          22.4          12.3 1974-06    TRUE
## 314 1974   7          24.4          14.8 1974-07    TRUE
## 315 1974   8          23.9          13.1 1974-08    TRUE
## 316 1974   9          17.5           7.6 1974-09    TRUE
## 317 1974  10           8.4           0.6 1974-10    TRUE
## 318 1974  11           3.2          -2.7 1974-11    TRUE
## 319 1974  12            NA            NA 1974-12      NA
## 320 1975   1          -3.4         -13.2 1975-01   FALSE
## 321 1975   2          -4.4         -12.4 1975-02   FALSE
## 322 1975   3          -0.1          -8.6 1975-03   FALSE
## 323 1975   4            NA            NA 1975-04      NA
## 324 1975   5          21.1          10.2 1975-05    TRUE
## 325 1975   6          23.3          13.1 1975-06    TRUE
## 326 1975   7            NA            NA 1975-07      NA
## 327 1975   8            NA            NA 1975-08      NA
## 328 1975   9          17.2           9.3 1975-09    TRUE
## 329 1975  10          13.1           4.6 1975-10    TRUE
## 330 1975  11           6.6           0.2 1975-11    TRUE
## 331 1975  12            NA            NA 1975-12      NA
## 332 1976   1          -8.8         -19.4 1976-01   FALSE
## 333 1976   2            NA            NA 1976-02      NA
## 334 1976   3           2.2          -7.4 1976-03    TRUE
## 335 1976   4          11.0           2.4 1976-04    TRUE
## 336 1976   5          19.0           8.1 1976-05    TRUE
## 337 1976   6          25.1          13.3 1976-06    TRUE
## 338 1976   7          23.0          13.3 1976-07    TRUE
## 339 1976   8          23.0          13.3 1976-08    TRUE
## 340 1976   9          16.8           7.9 1976-09    TRUE
## 341 1976  10            NA            NA 1976-10      NA
## 342 1976  11           0.8          -4.4 1976-11    TRUE
## 343 1976  12          -6.6         -16.6 1976-12   FALSE
## 344 1977   1          -9.1         -16.4 1977-01   FALSE
## 345 1977   2          -4.0         -10.9 1977-02   FALSE
## 346 1977   3           5.3          -2.0 1977-03    TRUE
## 347 1977   4          10.7           1.4 1977-04    TRUE
## 348 1977   5          20.2           7.6 1977-05    TRUE
## 349 1977   6          20.0          11.2 1977-06    TRUE
## 350 1977   7          24.0          14.1 1977-07    TRUE
## 351 1977   8          22.3          13.3 1977-08    TRUE
## 352 1977   9          16.7           6.9 1977-09    TRUE
## 353 1977  10          11.2           3.0 1977-10    TRUE
## 354 1977  11           5.8          -0.7 1977-11    TRUE
## 355 1977  12          -4.7         -10.9 1977-12   FALSE
## 356 1978   1          -7.6         -15.9 1978-01   FALSE
## 357 1978   2          -8.7         -17.0 1978-02   FALSE
## 358 1978   3          -1.5         -10.6 1978-03   FALSE
## 359 1978   4           7.0          -1.1 1978-04    TRUE
## 360 1978   5          21.1           9.3 1978-05    TRUE
## 361 1978   6          21.1          12.3 1978-06    TRUE
## 362 1978   7          24.5          13.6 1978-07    TRUE
## 363 1978   8          23.9          13.5 1978-08    TRUE
## 364 1978   9          15.8           4.8 1978-09    TRUE
## 365 1978  10          10.3           2.1 1978-10    TRUE
## 366 1978  11           4.5          -5.0 1978-11    TRUE
## 367 1978  12          -2.5         -11.0 1978-12   FALSE
## 368 1979   1          -5.2         -11.6 1979-01   FALSE
## 369 1979   2         -11.0         -19.1 1979-02   FALSE
## 370 1979   3           4.4          -3.4 1979-03    TRUE
## 371 1979   4          10.0           1.8 1979-04    TRUE
## 372 1979   5          18.1           8.0 1979-05    TRUE
## 373 1979   6          23.1          11.6 1979-06    TRUE
## 374 1979   7          26.7          15.5 1979-07    TRUE
## 375 1979   8          21.2          12.5 1979-08    TRUE
## 376 1979   9          18.7           7.8 1979-09    TRUE
## 377 1979  10          10.9           4.5 1979-10    TRUE
## 378 1979  11           7.3           0.8 1979-11    TRUE
## 379 1979  12          -0.9          -8.5 1979-12   FALSE
## 380 1980   1          -5.7         -13.1 1980-01   FALSE
## 381 1980   2          -6.7         -14.0 1980-02   FALSE
## 382 1980   3           1.9          -7.0 1980-03    TRUE
## 383 1980   4          10.4           2.0 1980-04    TRUE
## 384 1980   5          17.9           6.5 1980-05    TRUE
## 385 1980   6          20.5          10.4 1980-06    TRUE
## 386 1980   7          23.8          14.7 1980-07    TRUE
## 387 1980   8          23.5          14.6 1980-08    TRUE
## 388 1980   9          16.9           7.3 1980-09    TRUE
## 389 1980  10           8.6           1.6 1980-10    TRUE
## 390 1980  11           1.8          -3.6 1980-11    TRUE
## 391 1980  12          -7.5         -17.6 1980-12   FALSE
## 392 1981   1         -10.4         -20.6 1981-01   FALSE
## 393 1981   2           1.7          -5.4 1981-02    TRUE
## 394 1981   3           1.5          -5.6 1981-03    TRUE
## 395 1981   4          11.0           1.9 1981-04    TRUE
## 396 1981   5          17.8           8.0 1981-05    TRUE
## 397 1981   6          22.5          12.7 1981-06    TRUE
## 398 1981   7            NA          15.2 1981-07      NA
## 399 1981   8            NA            NA 1981-08      NA
## 400 1981   9            NA            NA 1981-09      NA
## 401 1981  10            NA            NA 1981-10      NA
## 402 1981  11           2.8          -2.4 1981-11    TRUE
## 403 1981  12            NA          -7.7 1981-12      NA
## 404 1982   1         -11.7         -21.7 1982-01   FALSE
## 405 1982   2          -5.4         -14.0 1982-02   FALSE
## 406 1982   3           0.9          -8.4 1982-03    TRUE
## 407 1982   4           6.4          -2.4 1982-04    TRUE
## 408 1982   5          19.2           7.8 1982-05    TRUE
## 409 1982   6          21.4          11.3 1982-06    TRUE
## 410 1982   7          25.0          13.2 1982-07    TRUE
## 411 1982   8          20.7          11.3 1982-08    TRUE
## 412 1982   9          18.9          10.6 1982-09    TRUE
## 413 1982  10          12.9           3.9 1982-10    TRUE
## 414 1982  11           6.5          -0.6 1982-11    TRUE
## 415 1982  12           0.3          -7.0 1982-12    TRUE
## 416 1983   1          -4.8         -12.5 1983-01   FALSE
## 417 1983   2          -3.0         -10.7 1983-02   FALSE
## 418 1983   3           2.4          -5.2 1983-03    TRUE
## 419 1983   4           8.6           1.6 1983-04    TRUE
## 420 1983   5          14.4           5.0 1983-05    TRUE
## 421 1983   6          24.2          12.7 1983-06    TRUE
## 422 1983   7          25.4          14.4 1983-07    TRUE
## 423 1983   8          24.5          14.4 1983-08    TRUE
## 424 1983   9          21.1          10.5 1983-09    TRUE
## 425 1983  10          12.1           3.6 1983-10    TRUE
## 426 1983  11           4.4          -0.5 1983-11    TRUE
## 427 1983  12          -4.8         -12.1 1983-12   FALSE
## 428 1984   1          -7.1         -16.0 1984-01   FALSE
## 429 1984   2           1.1          -6.5 1984-02    TRUE
## 430 1984   3          -2.5         -11.7 1984-03   FALSE
## 431 1984   4          11.6           1.8 1984-04    TRUE
## 432 1984   5          14.2           5.6 1984-05    TRUE
## 433 1984   6          22.8          11.2 1984-06    TRUE
## 434 1984   7            NA            NA 1984-07      NA
## 435 1984   8          24.8          15.4 1984-08    TRUE
## 436 1984   9          16.9           7.3 1984-09    TRUE
## 437 1984  10          13.2           4.1 1984-10    TRUE
## 438 1984  11           4.9          -2.0 1984-11    TRUE
## 439 1984  12          -0.4          -7.7 1984-12   FALSE
## 440 1985   1          -9.7         -17.7 1985-01   FALSE
## 441 1985   2          -3.3         -11.1 1985-02   FALSE
## 442 1985   3           0.7          -8.1 1985-03    TRUE
## 443 1985   4           9.3           0.1 1985-04    TRUE
## 444 1985   5          17.7           6.5 1985-05    TRUE
## 445 1985   6          19.6          11.2 1985-06    TRUE
## 446 1985   7          24.0          14.7 1985-07    TRUE
## 447 1985   8          23.4          13.5 1985-08    TRUE
## 448 1985   9          20.3           9.9 1985-09    TRUE
## 449 1985  10          11.8           3.9 1985-10    TRUE
## 450 1985  11           3.4          -3.3 1985-11    TRUE
## 451 1985  12          -5.1         -13.0 1985-12   FALSE
## 452 1986   1          -5.2         -14.9 1986-01   FALSE
## 453 1986   2          -6.0         -14.1 1986-02   FALSE
## 454 1986   3           2.8          -6.6 1986-03    TRUE
## 455 1986   4          13.3           3.0 1986-04    TRUE
## 456 1986   5            NA            NA 1986-05      NA
## 457 1986   6          20.6           8.5 1986-06    TRUE
## 458 1986   7            NA            NA 1986-07      NA
## 459 1986   8          22.6          12.4 1986-08    TRUE
## 460 1986   9          17.1           7.2 1986-09    TRUE
## 461 1986  10          10.5           2.7 1986-10    TRUE
## 462 1986  11           2.2          -5.7 1986-11    TRUE
## 463 1986  12            NA            NA 1986-12      NA
## 464 1987   1            NA            NA 1987-01      NA
## 465 1987   2          -7.8         -18.6 1987-02   FALSE
## 466 1987   3           3.3          -6.4 1987-03    TRUE</code></pre>
</div>
<div id="selecionar-solamente-un-subgrupo-de-los-datos" class="section level3">
<h3>Selecionar solamente un subgrupo de los datos</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co">#ggplot(data=ASBESTOS_QUEBEC)+</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># aes(x=Fecha, y=temp_prom_max) +</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_bar(stat = &quot;identity&quot;, position=&quot;identity&quot;)</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>ASBESTOSsub<span class="ot">=</span><span class="fu">subset</span>(ASBESTOS_QUEBEC, year<span class="sc">&gt;</span><span class="dv">1962</span> <span class="sc">&amp;</span> year<span class="sc">&lt;</span><span class="dv">1967</span>) <span class="co"># 1963 al 1966</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ASBESTOSsub)</span></code></pre></div>
<pre><code>##     year mes temp_prom_max temp_prom_min   fecha neg_pos
## 176 1963   1          -6.6         -12.7 1963-01   FALSE
## 177 1963   2          -9.0         -16.7 1963-02   FALSE
## 178 1963   3           0.6          -8.8 1963-03    TRUE
## 179 1963   4           8.2          -0.9 1963-04    TRUE
## 180 1963   5          16.9           5.7 1963-05    TRUE
## 181 1963   6          23.1          12.3 1963-06    TRUE</code></pre>
</div>
<div id="uniendo-las-partes-para-crear-el-gráfico" class="section level3">
<h3>Uniendo las partes para crear el gráfico</h3>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>ASBESTOSsub,</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>fecha, <span class="at">y=</span>temp_prom_max, <span class="at">fill=</span>neg_pos)) <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position=</span><span class="st">&quot;identity&quot;</span>)<span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Fecha&quot;</span>)<span class="sc">+</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Temperatura promedio </span><span class="sc">\n</span><span class="st"> máxima por mes en C°&quot;</span>)<span class="sc">+</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_bar).</code></pre>
<p><img src="G7_geom_bar_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Usando los datos de Anchorage, Alaska que se encuentra en la sección de datos aqui <a href="Data/Anchorage_ALASKA.csv">Anchorage_Data</a>, evaluar el patrón de temperatura mínima en los diferentes meses del año. Convertir los datos de Farenheit a Celcius.</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code></pre></div>
<pre><code>## Warning: package &#39;gt&#39; was built under R version 4.1.2</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>Anchorage_ALASKA <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/Anchorage_ALASKA.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 20 Columns: 13
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(Anchorage_ALASKA)</span></code></pre></div>
<div id="kekuwsgdch" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kekuwsgdch .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kekuwsgdch .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kekuwsgdch .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kekuwsgdch .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kekuwsgdch .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kekuwsgdch .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kekuwsgdch .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kekuwsgdch .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kekuwsgdch .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kekuwsgdch .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kekuwsgdch .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kekuwsgdch .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kekuwsgdch .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kekuwsgdch .gt_from_md > :first-child {
  margin-top: 0;
}

#kekuwsgdch .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kekuwsgdch .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kekuwsgdch .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kekuwsgdch .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kekuwsgdch .gt_row_group_first td {
  border-top-width: 2px;
}

#kekuwsgdch .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kekuwsgdch .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kekuwsgdch .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kekuwsgdch .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kekuwsgdch .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kekuwsgdch .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kekuwsgdch .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kekuwsgdch .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kekuwsgdch .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kekuwsgdch .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kekuwsgdch .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kekuwsgdch .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kekuwsgdch .gt_left {
  text-align: left;
}

#kekuwsgdch .gt_center {
  text-align: center;
}

#kekuwsgdch .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kekuwsgdch .gt_font_normal {
  font-weight: normal;
}

#kekuwsgdch .gt_font_bold {
  font-weight: bold;
}

#kekuwsgdch .gt_font_italic {
  font-style: italic;
}

#kekuwsgdch .gt_super {
  font-size: 65%;
}

#kekuwsgdch .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#kekuwsgdch .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kekuwsgdch .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#kekuwsgdch .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#kekuwsgdch .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Jan</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Feb</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Mar</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Apr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">May</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Jun</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Jul</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Aug</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Sep</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Oct</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Nov</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Dec</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">2000</td>
<td class="gt_row gt_right">-10</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">30</td>
<td class="gt_row gt_right">37</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">36</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">13</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right">2001</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">24</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">48</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">-15</td></tr>
    <tr><td class="gt_row gt_right">2002</td>
<td class="gt_row gt_right">-11</td>
<td class="gt_row gt_right">-5</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">37</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">26</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">-2</td></tr>
    <tr><td class="gt_row gt_right">2003</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">13</td>
<td class="gt_row gt_right">-1</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">-14</td></tr>
    <tr><td class="gt_row gt_right">2004</td>
<td class="gt_row gt_right">-18</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">-1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">38</td>
<td class="gt_row gt_right">48</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">2005</td>
<td class="gt_row gt_right">-7</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">38</td>
<td class="gt_row gt_right">50</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">39</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">-5</td>
<td class="gt_row gt_right">-1</td></tr>
    <tr><td class="gt_row gt_right">2006</td>
<td class="gt_row gt_right">-11</td>
<td class="gt_row gt_right">-10</td>
<td class="gt_row gt_right">-1</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">17</td>
<td class="gt_row gt_right">-9</td>
<td class="gt_row gt_right">-2</td></tr>
    <tr><td class="gt_row gt_right">2007</td>
<td class="gt_row gt_right">-17</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">-3</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">39</td>
<td class="gt_row gt_right">48</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">35</td>
<td class="gt_row gt_right">21</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">-9</td></tr>
    <tr><td class="gt_row gt_right">2008</td>
<td class="gt_row gt_right">-10</td>
<td class="gt_row gt_right">-15</td>
<td class="gt_row gt_right">13</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">31</td>
<td class="gt_row gt_right">38</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">-15</td></tr>
    <tr><td class="gt_row gt_right">2009</td>
<td class="gt_row gt_right">-24</td>
<td class="gt_row gt_right">-10</td>
<td class="gt_row gt_right">-3</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">30</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">-4</td></tr>
    <tr><td class="gt_row gt_right">2010</td>
<td class="gt_row gt_right">-2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">-5</td>
<td class="gt_row gt_right">21</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">21</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">-8</td></tr>
    <tr><td class="gt_row gt_right">2011</td>
<td class="gt_row gt_right">-12</td>
<td class="gt_row gt_right">-4</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">-9</td>
<td class="gt_row gt_right">-1</td></tr>
    <tr><td class="gt_row gt_right">2012</td>
<td class="gt_row gt_right">-15</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">41</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">30</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">-12</td></tr>
    <tr><td class="gt_row gt_right">2013</td>
<td class="gt_row gt_right">-9</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">50</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">-11</td></tr>
    <tr><td class="gt_row gt_right">2014</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">17</td>
<td class="gt_row gt_right">34</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">48</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_right">13</td></tr>
    <tr><td class="gt_row gt_right">2015</td>
<td class="gt_row gt_right">-5</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">-2</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">50</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right">2016</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_right">16</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">34</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">51</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">-8</td></tr>
    <tr><td class="gt_row gt_right">2017</td>
<td class="gt_row gt_right">-15</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">-8</td>
<td class="gt_row gt_right">26</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">36</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">5</td></tr>
    <tr><td class="gt_row gt_right">2018</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">-2</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">41</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_right">10</td></tr>
    <tr><td class="gt_row gt_right">2019</td>
<td class="gt_row gt_right">-7</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">27</td>
<td class="gt_row gt_right">35</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">51</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">26</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">-2</td></tr>
  </tbody>
  
  
</table>
</div>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gather the data in columns</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 1</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>AA<span class="ot">&lt;-</span><span class="fu">gather</span>(Anchorage_ALASKA,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">key=</span> <span class="st">&quot;Mes&quot;</span>,</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">value=</span><span class="st">&quot;Temp_min_F&quot;</span>, </span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>Year)</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>AA      </span></code></pre></div>
<pre><code>## # A tibble: 240 × 3
##     Year Mes   Temp_min_F
##    &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1  2000 Jan          -10
##  2  2001 Jan            8
##  3  2002 Jan          -11
##  4  2003 Jan            0
##  5  2004 Jan          -18
##  6  2005 Jan           -7
##  7  2006 Jan          -11
##  8  2007 Jan          -17
##  9  2008 Jan          -10
## 10  2009 Jan          -24
## # … with 230 more rows</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar que el Año y Mes son variables de tiempo</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Paso 2</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>numMonth<span class="ot">&lt;-</span><span class="cf">function</span>(x) </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="at">jan=</span><span class="dv">1</span>,<span class="at">feb=</span><span class="dv">2</span>,<span class="at">mar=</span><span class="dv">3</span>,<span class="at">apr=</span><span class="dv">4</span>,<span class="at">may=</span><span class="dv">5</span>,<span class="at">jun=</span><span class="dv">6</span>,<span class="at">jul=</span><span class="dv">7</span>,<span class="at">aug=</span><span class="dv">8</span>,<span class="at">sep=</span><span class="dv">9</span>,<span class="at">oct=</span><span class="dv">10</span>,<span class="at">nov=</span><span class="dv">11</span>,<span class="at">dec=</span><span class="dv">12</span>)[<span class="fu">tolower</span>(x)]</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>AA<span class="sc">$</span>Fecha<span class="ot">=</span><span class="fu">numMonth</span>(AA<span class="sc">$</span>Mes)</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(AA)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##    Year Mes   Temp_min_F Fecha
##   &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
## 1  2014 Dec           13    12
## 2  2015 Dec            4    12
## 3  2016 Dec           -8    12
## 4  2017 Dec            5    12
## 5  2018 Dec           10    12
## 6  2019 Dec           -2    12</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Paso 3</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>AA<span class="sc">$</span>FechasMA <span class="ot">&lt;-</span> <span class="fu">as.yearmon</span>(<span class="fu">paste</span>(AA<span class="sc">$</span>Year, AA<span class="sc">$</span>Fecha), <span class="st">&quot;%Y %m&quot;</span>)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(AA)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##    Year Mes   Temp_min_F Fecha FechasMA 
##   &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;yearmon&gt;
## 1  2000 Jan          -10     1 Jan 2000 
## 2  2001 Jan            8     1 Jan 2001 
## 3  2002 Jan          -11     1 Jan 2002 
## 4  2003 Jan            0     1 Jan 2003 
## 5  2004 Jan          -18     1 Jan 2004 
## 6  2005 Jan           -7     1 Jan 2005</code></pre>
</div>
</div>
<div id="conversión-de-temperatura" class="section level2">
<h2>Conversión de temperatura</h2>
<p>Cual el punto de congelación en Farenheit?</p>
<p>Como se convierte F° en C°</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Paso 4</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>AA<span class="sc">$</span>NegPos<span class="ot">=</span>AA<span class="sc">$</span>Temp_min_F<span class="sc">&gt;=</span><span class="dv">32</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(AA)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##    Year Mes   Temp_min_F Fecha FechasMA  NegPos
##   &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;yearmon&gt; &lt;lgl&gt; 
## 1  2000 Jan          -10     1 Jan 2000  FALSE 
## 2  2001 Jan            8     1 Jan 2001  FALSE 
## 3  2002 Jan          -11     1 Jan 2002  FALSE 
## 4  2003 Jan            0     1 Jan 2003  FALSE 
## 5  2004 Jan          -18     1 Jan 2004  FALSE 
## 6  2005 Jan           -7     1 Jan 2005  FALSE</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>AA<span class="sc">$</span>Temp_C<span class="ot">=</span>(AA<span class="sc">$</span>Temp_min_F<span class="dv">-32</span>)<span class="sc">*</span><span class="dv">5</span><span class="sc">/</span><span class="dv">9</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(AA)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 7
##    Year Mes   Temp_min_F Fecha FechasMA  NegPos Temp_C
##   &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;yearmon&gt; &lt;lgl&gt;   &lt;dbl&gt;
## 1  2000 Jan          -10     1 Jan 2000  FALSE   -23.3
## 2  2001 Jan            8     1 Jan 2001  FALSE   -13.3
## 3  2002 Jan          -11     1 Jan 2002  FALSE   -23.9
## 4  2003 Jan            0     1 Jan 2003  FALSE   -17.8
## 5  2004 Jan          -18     1 Jan 2004  FALSE   -27.8
## 6  2005 Jan           -7     1 Jan 2005  FALSE   -21.7</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>AA<span class="sc">$</span>NegPosC<span class="ot">=</span>AA<span class="sc">$</span>Temp_C<span class="sc">&gt;=</span><span class="dv">0</span></span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>AA,</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>FechasMA, <span class="at">y=</span>Temp_C, <span class="at">fill=</span>NegPosC)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position=</span><span class="st">&quot;identity&quot;</span>)<span class="sc">+</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">angle=</span><span class="dv">90</span>))<span class="sc">+</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Fecha&quot;</span>)<span class="sc">+</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Temperatura promedio máxima por mes en Celsius&quot;</span>)<span class="sc">+</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: `guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; =
## &quot;none&quot;)` instead.</code></pre>
<p><img src="G7_geom_bar_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<hr />
</div>
<div id="gráfico-de-barras-ajuste-de-posiciones-con-geom_bar" class="section level2">
<h2>Gráfico de barras: Ajuste de posiciones con <strong>geom_bar</strong></h2>
<p>A veces queremos hacer que las barras luzcan de diferentes maneras; por ejemplo, que las posiciones de las barras no salgan verticales o tan gruesas. Además, se puede modificar la representación de las barras para que la altura de ellas no represente el número de observaciones; por ejemplo, que represente una suma sobre otra variable.</p>
<p>Los datos que utilizaremos para la próxima demostración provienen del archivo de lagartos <strong>Anolis</strong> que contiene información sobre su edad, sexo, periodo de muestreo y localidad donde fueron muestreados.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggversa)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Anolis)</span></code></pre></div>
<pre><code>##  [1] &quot;STUDY&quot;                    &quot;Survey_Site&quot;             
##  [3] &quot;LOCATION&quot;                 &quot;TIME&quot;                    
##  [5] &quot;DATE&quot;                     &quot;SEASON&quot;                  
##  [7] &quot;SPECIES&quot;                  &quot;SEX_AGE&quot;                 
##  [9] &quot;HEIGHT&quot;                   &quot;DISTANCE_FROM_CENTERLINE&quot;
## [11] &quot;PERCH_SUBSTRATE&quot;          &quot;PERCH_DIAMETER&quot;          
## [13] &quot;WEIGHT&quot;                   &quot;SVL&quot;                     
## [15] &quot;TAIL&quot;</code></pre>
<p>El primer gráfico a continuación, produce por omisión barras negras que representan la suma de la cantidad de observaciones.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE))</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>barraA<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="fu">grey</span>(.<span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/geombar2-1.png" width="672" /></p>
<p>En el segundo, el ancho de las barras fue reducido para que se vean menos angostas usando la opción <strong>width</strong>, ene ejemplo se reduce el ancho de las barras <strong>width=.3</strong>. Además, se cambia la descripción de los ejes al castellano. También selecciono un otro color de gris y se modifico su intensidad con <strong>fill=grey(.5)</strong>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE))</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>barraA<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">width=</span>.<span class="dv">3</span>, <span class="at">fill=</span><span class="fu">grey</span>(.<span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="at">x=</span><span class="st">&quot;Género y edad&quot;</span>)<span class="sc">+</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>En el tercer grafico las barras fueron rotadas usando la opción <strong>coord_flip()</strong> y puestas sobre lo que antes era el eje de <strong>Y</strong>. En el cuarto, se añadió una variable discreta como color; en este caso, fue usada la escala de color gris para distinguir entre la temporada seca <strong>dry</strong> la lluviosa <strong>wet</strong>. Si no se añade la opción scale_fill_grey(), las categorías tendrían color.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE))</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>B3<span class="ot">=</span>barraA<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">fill=</span><span class="fu">grey</span>(.<span class="dv">5</span>))<span class="sc">+</span><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="at">x=</span><span class="st">&quot;Género y edad&quot;</span>)<span class="sc">+</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE, <span class="at">fill=</span>SEASON))</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>B4<span class="ot">=</span>barraA<span class="sc">+</span><span class="fu">geom_bar</span>()<span class="sc">+</span><span class="fu">scale_fill_grey</span>()<span class="sc">+</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="at">x=</span><span class="st">&quot;Género y edad&quot;</span>)<span class="sc">+</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(B3,B4,<span class="at">ncol=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/geombar2a-1.png" width="672" /></p>
<hr />
<div id="posiciones-de-las-barras" class="section level3">
<h3>Posiciones de las barras</h3>
<p>Si uno quiere posicionar las categorías una al lado de la otra, se usa <strong>(position={dodge})</strong>. El parámetro <strong>dodge</strong> le indica <strong>esquivar</strong> en el sentido de mover al lado.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE,<span class="at">fill=</span>SEASON))</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>B1<span class="ot">=</span>barraA<span class="sc">+</span><span class="fu">geom_bar</span>()<span class="sc">+</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="at">x=</span><span class="st">&quot;Género y edad&quot;</span>)<span class="sc">+</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>barraA<span class="ot">=</span><span class="fu">ggplot</span>(Anolis, <span class="fu">aes</span>(SEX_AGE,<span class="at">fill=</span>SEASON))</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>B2<span class="ot">=</span>barraA<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">&quot;dodge&quot;</span>)<span class="sc">+</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Frecuencia&quot;</span>, <span class="at">x=</span><span class="st">&quot;Género y edad&quot;</span>)<span class="sc">+</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>,<span class="at">face=</span><span class="st">&quot;bold&quot;</span>))</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(B1,B2,<span class="at">ncol=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="G7_geom_bar_files/figure-html/geombar3-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="opciones-y-parametros-de-geom_bar" class="section level1">
<h1>Opciones y Parametros de <strong>geom_bar</strong>:</h1>
<ul>
<li>ggplot(el archivo de datos, aes(la variable continua))</li>
<li>geom_bar(stat=bin, x, y, alpha, color, fill, linetype, size)
<ul>
<li>alpha: la intensidad del color</li>
<li>fill: el color de la barra</li>
<li>color: el color de la línea alrededor de la barra</li>
<li>linetype: representa el estilo de línea</li>
<li>size: representa el grosor de la línea</li>
<li>weight; para modificar el valor original; entonces no sería, por ejemplo, el conteo/suma de los valores si no un valor ponderado (promedio ponderado).</li>
</ul></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
